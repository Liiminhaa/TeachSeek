
<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Payback TeachSeek — Interativo</title>
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 20px; color: #111; }
  h1 { font-size: 18px; margin: 0 0 10px; }
  .toolbar { display:flex; gap:8px; flex-wrap: wrap; align-items:center; margin-bottom:10px; }
  button { padding:8px 12px; border:1px solid #ccc; background:#f7f7f7; border-radius:8px; cursor:pointer; }
  button.active { background:#111; color:#fff; }
  .meta { font-size:12px; color:#555; margin-top:6px; }
  #wrap { position: relative; max-width: 980px; }
  #chart { border:1px solid #ddd; border-radius:8px; background:#fff; }
  .tooltip { position:absolute; pointer-events:none; background:#111; color:#fff; padding:6px 8px; font-size:12px; border-radius:6px; transform:translate(-50%, -100%); white-space:nowrap; }
  .legend { font-size:12px; color:#333; margin-top:6px; }
</style>
</head>
<body>
  <div id="wrap">
    <h1 id="title">Payback — Base (Pix repassado) | Investimento: R$ 5.145,60 | Resultado mensal: R$ 1.325,26 | Payback ≈ 3.88 meses</h1>
    <div class="toolbar" id="toolbar"></div>
    <canvas id="chart" width="960" height="520"></canvas>
    <div id="tooltip" class="tooltip" style="display:none"></div>
    <div class="legend">Passe o mouse para ver os valores — Eixo X: meses | Eixo Y: caixa acumulado (R$)</div>
    <div class="meta">Fonte conceitual: SEBRAE (2013). "Prazo de Retorno do Investimento = Investimento Total / Lucro Líquido".</div>
  </div>

<script>
// ===== Dados injetados pelo Python =====
const investimento = 5145.6;
const meses = [0.0, 0.025, 0.05, 0.07500000000000001, 0.1, 0.125, 0.15000000000000002, 0.17500000000000002, 0.2, 0.225, 0.25, 0.275, 0.30000000000000004, 0.325, 0.35000000000000003, 0.375, 0.4, 0.42500000000000004, 0.45, 0.47500000000000003, 0.5, 0.525, 0.55, 0.5750000000000001, 0.6000000000000001, 0.625, 0.65, 0.675, 0.7000000000000001, 0.7250000000000001, 0.75, 0.775, 0.8, 0.8250000000000001, 0.8500000000000001, 0.875, 0.9, 0.925, 0.9500000000000001, 0.9750000000000001, 1.0, 1.0250000000000001, 1.05, 1.075, 1.1, 1.125, 1.1500000000000001, 1.175, 1.2000000000000002, 1.225, 1.25, 1.2750000000000001, 1.3, 1.3250000000000002, 1.35, 1.375, 1.4000000000000001, 1.425, 1.4500000000000002, 1.475, 1.5, 1.5250000000000001, 1.55, 1.5750000000000002, 1.6, 1.625, 1.6500000000000001, 1.675, 1.7000000000000002, 1.725, 1.75, 1.7750000000000001, 1.8, 1.8250000000000002, 1.85, 1.875, 1.9000000000000001, 1.925, 1.9500000000000002, 1.975, 2.0, 2.025, 2.0500000000000003, 2.075, 2.1, 2.125, 2.15, 2.1750000000000003, 2.2, 2.225, 2.25, 2.275, 2.3000000000000003, 2.325, 2.35, 2.375, 2.4000000000000004, 2.4250000000000003, 2.45, 2.475, 2.5, 2.5250000000000004, 2.5500000000000003, 2.575, 2.6, 2.625, 2.6500000000000004, 2.6750000000000003, 2.7, 2.725, 2.75, 2.7750000000000004, 2.8000000000000003, 2.825, 2.85, 2.875, 2.9000000000000004, 2.9250000000000003, 2.95, 2.975, 3.0, 3.0250000000000004, 3.0500000000000003, 3.075, 3.1, 3.125, 3.1500000000000004, 3.1750000000000003, 3.2, 3.225, 3.25, 3.2750000000000004, 3.3000000000000003, 3.325, 3.35, 3.375, 3.4000000000000004, 3.4250000000000003, 3.45, 3.475, 3.5, 3.5250000000000004, 3.5500000000000003, 3.575, 3.6, 3.625, 3.6500000000000004, 3.6750000000000003, 3.7, 3.725, 3.75, 3.7750000000000004, 3.8000000000000003, 3.825, 3.85, 3.875, 3.9000000000000004, 3.9250000000000003, 3.95, 3.975, 4.0, 4.025, 4.05, 4.075, 4.1000000000000005, 4.125, 4.15, 4.175, 4.2, 4.2250000000000005, 4.25, 4.275, 4.3, 4.325, 4.3500000000000005, 4.375, 4.4, 4.425, 4.45, 4.4750000000000005, 4.5, 4.525, 4.55, 4.575, 4.6000000000000005, 4.625, 4.65, 4.675, 4.7, 4.7250000000000005, 4.75, 4.775, 4.800000000000001, 4.825, 4.8500000000000005, 4.875, 4.9, 4.925000000000001, 4.95, 4.9750000000000005, 5.0, 5.025, 5.050000000000001, 5.075, 5.1000000000000005, 5.125, 5.15, 5.175000000000001, 5.2, 5.2250000000000005, 5.25, 5.275, 5.300000000000001, 5.325, 5.3500000000000005, 5.375, 5.4, 5.425000000000001, 5.45, 5.4750000000000005, 5.5, 5.525, 5.550000000000001, 5.575, 5.6000000000000005, 5.625, 5.65, 5.675000000000001, 5.7, 5.7250000000000005, 5.75, 5.775, 5.800000000000001, 5.825, 5.8500000000000005, 5.875, 5.9, 5.925000000000001, 5.95, 5.9750000000000005, 6.0, 6.025, 6.050000000000001, 6.075, 6.1000000000000005, 6.125, 6.15, 6.175000000000001, 6.2, 6.2250000000000005, 6.25, 6.275, 6.300000000000001, 6.325, 6.3500000000000005, 6.375, 6.4, 6.425000000000001, 6.45, 6.4750000000000005, 6.5, 6.525, 6.550000000000001, 6.575, 6.6000000000000005, 6.625, 6.65, 6.675000000000001, 6.7, 6.7250000000000005, 6.75, 6.775, 6.800000000000001, 6.825, 6.8500000000000005, 6.875, 6.9, 6.925000000000001, 6.95, 6.9750000000000005, 7.0, 7.025, 7.050000000000001, 7.075, 7.1000000000000005, 7.125, 7.15, 7.175000000000001, 7.2, 7.2250000000000005, 7.25, 7.275, 7.300000000000001, 7.325, 7.3500000000000005, 7.375, 7.4, 7.425000000000001, 7.45, 7.4750000000000005, 7.5, 7.525, 7.550000000000001, 7.575, 7.6000000000000005, 7.625, 7.65, 7.675000000000001, 7.7, 7.7250000000000005, 7.75, 7.775, 7.800000000000001, 7.825, 7.8500000000000005, 7.875, 7.9, 7.925000000000001, 7.95, 7.9750000000000005, 8.0];
const series = {"Base (Pix repassado)": [-5145.6, -5112.4685, -5079.337, -5046.2055, -5013.0740000000005, -4979.9425, -4946.811000000001, -4913.6795, -4880.548000000001, -4847.4165, -4814.285000000001, -4781.1535, -4748.022, -4714.8905, -4681.759, -4648.6275000000005, -4615.496, -4582.364500000001, -4549.233, -4516.101500000001, -4482.97, -4449.8385, -4416.707, -4383.5755, -4350.444, -4317.3125, -4284.1810000000005, -4251.0495, -4217.918000000001, -4184.7865, -4151.655000000001, -4118.5235, -4085.3920000000003, -4052.2605000000003, -4019.1290000000004, -3985.9975000000004, -3952.8660000000004, -3919.7345000000005, -3886.603, -3853.4715000000006, -3820.34, -3787.2085, -3754.077, -3720.9455000000007, -3687.8140000000003, -3654.6825000000003, -3621.5510000000004, -3588.4195000000004, -3555.2880000000005, -3522.1565, -3489.0250000000005, -3455.8935, -3422.7620000000006, -3389.6305, -3356.4990000000003, -3323.3675000000003, -3290.236, -3257.1045000000004, -3223.973, -3190.8415000000005, -3157.7100000000005, -3124.5785000000005, -3091.447, -3058.3155, -3025.184, -2992.0525000000002, -2958.9210000000003, -2925.7895000000003, -2892.6580000000004, -2859.5265000000004, -2826.3950000000004, -2793.2635, -2760.1320000000005, -2727.0005, -2693.869, -2660.7375, -2627.606, -2594.4745000000003, -2561.3430000000003, -2528.2115000000003, -2495.0800000000004, -2461.9485000000004, -2428.817, -2395.6855, -2362.554, -2329.4225000000006, -2296.2910000000006, -2263.1595, -2230.0280000000002, -2196.8965000000003, -2163.7650000000003, -2130.6335000000004, -2097.502, -2064.3705, -2031.2390000000005, -1998.1075000000005, -1964.976, -1931.8445000000002, -1898.7130000000002, -1865.5815000000002, -1832.4500000000003, -1799.3184999999999, -1766.187, -1733.0555, -1699.9240000000004, -1666.7925000000005, -1633.661, -1600.5295, -1567.3980000000001, -1534.2665000000002, -1501.1350000000002, -1468.0034999999998, -1434.8719999999998, -1401.7405000000003, -1368.6090000000004, -1335.4775000000004, -1302.346, -1269.2145, -1236.083, -1202.9515000000001, -1169.8200000000006, -1136.6884999999997, -1103.5570000000002, -1070.4255000000003, -1037.2939999999999, -1004.1625000000004, -971.031, -937.8995000000004, -904.768, -871.6365000000005, -838.5050000000001, -805.3734999999997, -772.2420000000002, -739.1104999999998, -705.9790000000003, -672.8475000000008, -639.7160000000003, -606.5844999999999, -573.4530000000004, -540.3215, -507.1900000000005, -474.0585000000001, -440.9269999999997, -407.7955000000002, -374.66400000000067, -341.53250000000025, -308.40099999999984, -275.26950000000033, -242.13799999999992, -209.00650000000041, -175.875, -142.74349999999959, -109.61200000000008, -76.48050000000057, -43.34900000000016, -10.217500000000655, 22.91399999999976, 56.045500000000175, 89.17699999999968, 122.3085000000001, 155.4399999999996, 188.57150000000001, 221.70299999999952, 254.83449999999993, 287.96600000000035, 321.09749999999985, 354.22900000000027, 387.3604999999998, 420.4920000000002, 453.6235000000006, 486.7549999999992, 519.8864999999996, 553.0179999999991, 586.1494999999995, 619.281, 652.4124999999995, 685.5439999999999, 718.6754999999994, 751.8069999999998, 784.9385000000002, 818.0699999999997, 851.2015000000001, 884.3329999999996, 917.4645, 950.5960000000005, 983.7275, 1016.8590000000004, 1049.990499999999, 1083.1219999999994, 1116.2535000000007, 1149.3849999999993, 1182.5164999999997, 1215.6480000000001, 1248.7794999999996, 1281.911, 1315.0424999999996, 1348.174, 1381.3055000000004, 1414.437, 1447.5685000000003, 1480.6999999999998, 1513.8315000000002, 1546.9630000000006, 1580.0945000000002, 1613.2260000000006, 1646.3574999999992, 1679.4890000000005, 1712.620500000001, 1745.7519999999995, 1778.8835, 1812.0149999999994, 1845.1464999999998, 1878.2780000000002, 1911.4094999999998, 1944.5410000000002, 1977.6724999999997, 2010.804, 2043.9355000000005, 2077.067, 2110.1985000000004, 2143.33, 2176.4615000000003, 2209.5930000000008, 2242.7245000000003, 2275.8560000000007, 2308.9874999999993, 2342.1189999999997, 2375.2505, 2408.3819999999996, 2441.5135, 2474.6449999999995, 2507.7765, 2540.9080000000004, 2574.0395, 2607.1710000000003, 2640.3025, 2673.434, 2706.5655000000006, 2739.697, 2772.8285000000005, 2805.959999999999, 2839.0915000000005, 2872.223000000001, 2905.3544999999995, 2938.486, 2971.6174999999994, 3004.749, 3037.8805, 3071.0120000000006, 3104.1435, 3137.2749999999996, 3170.406499999999, 3203.5380000000005, 3236.6695, 3269.8009999999995, 3302.932499999999, 3336.0640000000003, 3369.1955, 3402.3269999999993, 3435.4585000000006, 3468.59, 3501.7214999999997, 3534.853000000001, 3567.9845000000005, 3601.116, 3634.2474999999995, 3667.379000000001, 3700.5105000000003, 3733.642, 3766.773500000001, 3799.904999999999, 3833.0365, 3866.1679999999997, 3899.299499999999, 3932.4310000000005, 3965.5625, 3998.6939999999995, 4031.825500000001, 4064.9570000000003, 4098.0885, 4131.219999999999, 4164.351500000001, 4197.483, 4230.6145, 4263.746000000001, 4296.877499999999, 4330.009, 4363.140500000001, 4396.271999999999, 4429.4035, 4462.535, 4495.666499999999, 4528.798000000001, 4561.9295, 4595.061, 4628.192499999999, 4661.3240000000005, 4694.4555, 4727.5869999999995, 4760.718500000001, 4793.85, 4826.9815, 4860.113000000001, 4893.244500000001, 4926.376, 4959.5075, 4992.638999999999, 5025.7705000000005, 5058.902, 5092.0335, 5125.164999999999, 5158.2965, 5191.428, 5224.559499999999, 5257.691000000001, 5290.8225, 5323.954, 5357.085500000001, 5390.217000000001, 5423.3485, 5456.48], "Pessimista (-15%)": [-5145.6, -5117.438225000001, -5089.27645, -5061.114675000001, -5032.9529, -5004.791125000001, -4976.62935, -4948.467575000001, -4920.3058, -4892.1440250000005, -4863.98225, -4835.820475, -4807.6587, -4779.496925, -4751.335150000001, -4723.173375, -4695.011600000001, -4666.849825, -4638.688050000001, -4610.526275, -4582.364500000001, -4554.202725, -4526.0409500000005, -4497.879175, -4469.7174, -4441.555625000001, -4413.39385, -4385.232075, -4357.0703, -4328.908525000001, -4300.74675, -4272.584975000001, -4244.4232, -4216.261425000001, -4188.09965, -4159.9378750000005, -4131.7761, -4103.6143250000005, -4075.45255, -4047.2907750000004, -4019.1290000000004, -3990.9672250000003, -3962.8054500000003, -3934.6436750000003, -3906.4819, -3878.320125, -3850.15835, -3821.996575, -3793.8348, -3765.673025, -3737.5112500000005, -3709.349475, -3681.1877000000004, -3653.025925, -3624.8641500000003, -3596.7023750000003, -3568.5406000000003, -3540.3788250000002, -3512.21705, -3484.055275, -3455.8935, -3427.731725, -3399.56995, -3371.4081750000005, -3343.2464, -3315.0846250000004, -3286.92285, -3258.7610750000003, -3230.5993, -3202.4375250000003, -3174.2757500000002, -3146.113975, -3117.9522000000006, -3089.790425, -3061.62865, -3033.4668750000005, -3005.3051, -2977.1433250000005, -2948.98155, -2920.8197750000004, -2892.6580000000004, -2864.4962250000003, -2836.33445, -2808.1726750000003, -2780.0109, -2751.849125, -2723.6873500000006, -2695.525575, -2667.3638, -2639.202025, -2611.0402500000005, -2582.8784750000004, -2554.7167, -2526.5549250000004, -2498.3931500000003, -2470.2313750000003, -2442.0696, -2413.9078250000002, -2385.74605, -2357.584275, -2329.4225000000006, -2301.260725, -2273.09895, -2244.937175, -2216.7754000000004, -2188.6136250000004, -2160.45185, -2132.290075, -2104.1283000000003, -2075.9665250000003, -2047.8047500000002, -2019.6429749999998, -1991.4812000000002, -1963.3194250000001, -1935.15765, -1906.9958750000005, -1878.8341, -1850.672325, -1822.51055, -1794.3487750000004, -1766.1870000000004, -1738.0252249999999, -1709.8634499999998, -1681.7016750000003, -1653.5399000000002, -1625.3781250000002, -1597.2163500000001, -1569.054575, -1540.8928, -1512.731025, -1484.5692500000005, -1456.407475, -1428.2457, -1400.0839250000004, -1371.9221500000003, -1343.7603750000003, -1315.5985999999998, -1287.4368250000002, -1259.2750500000002, -1231.1132750000002, -1202.9515000000001, -1174.789725, -1146.62795, -1118.466175, -1090.3044000000004, -1062.1426250000004, -1033.98085, -1005.8190750000003, -977.6572999999999, -949.4955250000003, -921.3337500000007, -893.1719750000002, -865.0101999999997, -836.8484250000001, -808.6866500000006, -780.5248750000001, -752.3630999999996, -724.201325, -696.0395500000004, -667.8777749999999, -639.7160000000003, -611.5542249999999, -583.3924500000003, -555.2306749999998, -527.0688999999993, -498.90712500000063, -470.74535000000014, -442.58357500000056, -414.4218000000001, -386.2600249999996, -358.09825, -329.9364749999995, -301.77470000000085, -273.61292500000036, -245.45114999999987, -217.2893750000003, -189.1275999999998, -160.96582500000022, -132.80404999999973, -104.64227500000015, -76.48050000000057, -48.318725000000086, -20.156950000000506, 8.004824999999983, 36.16660000000047, 64.32837500000005, 92.49014999999963, 120.65192499999921, 148.8136999999997, 176.9754750000002, 205.13724999999977, 233.29902500000026, 261.46080000000075, 289.6225749999994, 317.7843499999999, 345.9461249999995, 374.1079, 402.26967500000046, 430.43145000000004, 458.59322500000053, 486.7549999999992, 514.9167749999997, 543.0785500000002, 571.2403249999998, 599.4021000000002, 627.5638749999998, 655.7256500000003, 683.8874250000008, 712.0491999999995, 740.210975, 768.3727499999995, 796.534525, 824.6963000000005, 852.8580750000001, 881.0198500000006, 909.1816249999993, 937.3433999999997, 965.5051750000002, 993.6669499999998, 1021.8287250000003, 1049.9904999999999, 1078.1522750000004, 1106.3140500000009, 1134.4758249999995, 1162.6376, 1190.7993749999996, 1218.96115, 1247.1229250000006, 1275.2847000000002, 1303.4464750000006, 1331.6082499999993, 1359.7700249999998, 1387.9318000000003, 1416.0935749999999, 1444.2553500000004, 1472.417125, 1500.5789000000004, 1528.740675, 1556.9024499999996, 1585.064225, 1613.2259999999997, 1641.3877750000001, 1669.5495500000006, 1697.7113250000002, 1725.8731000000007, 1754.0348749999994, 1782.1966499999999, 1810.3584250000004, 1838.5202, 1866.6819750000004, 1894.84375, 1923.0055250000005, 1951.1673, 1979.3290749999996, 2007.4908500000001, 2035.6526249999997, 2063.8144, 2091.9761750000007, 2120.1379500000003, 2148.299725, 2176.4614999999994, 2204.623275, 2232.7850500000004, 2260.946825, 2289.1086000000005, 2317.270375, 2345.4321499999996, 2373.593925, 2401.7556999999997, 2429.917475, 2458.07925, 2486.2410250000003, 2514.4028000000008, 2542.5645749999994, 2570.72635, 2598.8881249999995, 2627.0499, 2655.2116750000005, 2683.37345, 2711.5352250000005, 2739.697, 2767.8587749999997, 2796.02055, 2824.1823249999998, 2852.3441000000003, 2880.505875, 2908.6676500000003, 2936.829425000001, 2964.9911999999995, 2993.152975, 3021.3147499999995, 3049.476525, 3077.6383000000005, 3105.800074999999, 3133.9618499999997, 3162.123625, 3190.2854000000007, 3218.447175000001, 3246.60895, 3274.7707250000003, 3302.932499999999, 3331.0942749999995, 3359.25605, 3387.4178250000004, 3415.579600000001, 3443.7413749999996, 3471.90315, 3500.0649250000006, 3528.2266999999993, 3556.3884749999997, 3584.5502500000002, 3612.7120250000007, 3640.873800000001, 3669.035575, 3697.1973500000004, 3725.359124999999, 3753.5208999999995, 3781.682675, 3809.8444500000005, 3838.006225000001, 3866.1679999999997], "Otimista (+15%)": [-5145.6, -5107.498775, -5069.397550000001, -5031.296325, -4993.195100000001, -4955.0938750000005, -4916.99265, -4878.891425000001, -4840.7902, -4802.688975, -4764.587750000001, -4726.486525, -4688.3853, -4650.2840750000005, -4612.18285, -4574.081625000001, -4535.9804, -4497.879175, -4459.777950000001, -4421.676725, -4383.575500000001, -4345.4742750000005, -4307.37305, -4269.271825, -4231.1706, -4193.069375, -4154.968150000001, -4116.866925, -4078.7657000000004, -4040.6644750000005, -4002.56325, -3964.4620250000003, -3926.3608000000004, -3888.259575, -3850.15835, -3812.0571250000003, -3773.9559000000004, -3735.8546750000005, -3697.75345, -3659.6522250000003, -3621.5510000000004, -3583.449775, -3545.3485500000006, -3507.2473250000003, -3469.1461, -3431.0448750000005, -3392.94365, -3354.8424250000003, -3316.7412000000004, -3278.639975, -3240.5387500000006, -3202.4375250000003, -3164.3363000000004, -3126.235075, -3088.13385, -3050.0326250000003, -3011.9314000000004, -2973.8301750000005, -2935.72895, -2897.6277250000003, -2859.5265000000004, -2821.425275, -2783.32405, -2745.2228250000003, -2707.1216000000004, -2669.0203750000005, -2630.91915, -2592.8179250000003, -2554.7167, -2516.615475, -2478.51425, -2440.4130250000003, -2402.3118000000004, -2364.210575, -2326.10935, -2288.0081250000003, -2249.9069000000004, -2211.8056750000005, -2173.70445, -2135.6032250000003, -2097.5020000000004, -2059.4007750000005, -2021.2995500000002, -1983.1983250000003, -1945.0971000000004, -1906.9958750000005, -1868.8946500000006, -1830.7934249999998, -1792.6922, -1754.590975, -1716.4897500000006, -1678.3885250000008, -1640.2873, -1602.186075, -1564.0848500000002, -1525.9836250000003, -1487.8824, -1449.781175, -1411.6799500000002, -1373.5787250000003, -1335.4775000000004, -1297.376275, -1259.2750500000002, -1221.1738250000003, -1183.0726000000004, -1144.9713750000005, -1106.8701499999997, -1068.7689249999999, -1030.6677, -992.5664750000005, -954.4652500000002, -916.3640249999999, -878.2628000000004, -840.1615750000001, -802.0603500000007, -763.9591250000003, -725.8579, -687.7566749999996, -649.6554500000002, -611.5542249999999, -573.4530000000004, -535.3517750000001, -497.25054999999975, -459.1493250000003, -421.0481, -382.94687500000055, -344.8456500000002, -306.74442499999986, -268.64320000000043, -230.5419750000001, -192.44075000000066, -154.33952500000032, -116.23829999999998, -78.13707500000055, -40.03585000000021, -1.9346250000007785, 36.16660000000047, 74.2678249999999, 112.36905000000024, 150.47027499999967, 188.57150000000001, 226.67272500000036, 264.7739499999998, 302.8751750000001, 340.97639999999956, 379.0776249999999, 417.17885000000024, 455.28007499999967, 493.3813, 531.4825249999994, 569.5837499999998, 607.6849750000001, 645.7861999999996, 683.8874249999999, 721.9886499999993, 760.0898749999997, 798.1911, 836.2923250000003, 874.3935499999998, 912.4947750000001, 950.5959999999995, 988.6972249999999, 1026.7984499999993, 1064.8996749999997, 1103.0009, 1141.1021249999994, 1179.2033499999998, 1217.3045749999992, 1255.4057999999995, 1293.5070250000008, 1331.6082499999993, 1369.7094749999997, 1407.810699999999, 1445.9119249999994, 1484.0131500000007, 1522.1143749999992, 1560.2156000000004, 1598.316824999999, 1636.4180500000002, 1674.5192750000006, 1712.620499999999, 1750.7217250000003, 1788.8229499999989, 1826.924175, 1865.0254000000004, 1903.1266249999999, 1941.2278500000002, 1979.3290749999996, 2017.4303, 2055.5315250000003, 2093.6327499999998, 2131.733975, 2169.8352000000004, 2207.936425, 2246.03765, 2284.1388749999996, 2322.2401, 2360.3413250000003, 2398.4425499999998, 2436.543775, 2474.6449999999995, 2512.746225, 2550.84745, 2588.9486749999996, 2627.0499, 2665.1511249999994, 2703.2523499999998, 2741.353575000001, 2779.4547999999995, 2817.556025000001, 2855.6572499999993, 2893.7584749999996, 2931.859700000001, 2969.9609249999994, 3008.0621500000007, 3046.163374999999, 3084.2646000000004, 3122.3658250000008, 3160.4670499999993, 3198.5682749999996, 3236.6695, 3274.7707250000003, 3312.8719500000007, 3350.973174999999, 3389.0743999999995, 3427.175625, 3465.27685, 3503.3780750000005, 3541.479299999999, 3579.580525000001, 3617.6817499999997, 3655.782975, 3693.8842000000004, 3731.985424999999, 3770.086650000001, 3808.1878749999996, 3846.2891, 3884.3903250000003, 3922.4915500000006, 3960.592775000001, 3998.6939999999995, 4036.795225, 4074.89645, 4112.9976750000005, 4151.098900000001, 4189.200124999999, 4227.30135, 4265.402575, 4303.5038, 4341.605025000001, 4379.706249999999, 4417.807475, 4455.9087, 4494.009925, 4532.111150000001, 4570.212374999999, 4608.3135999999995, 4646.414825, 4684.51605, 4722.6172750000005, 4760.718499999999, 4798.819724999999, 4836.92095, 4875.022175, 4913.1234, 4951.224624999999, 4989.325849999999, 5027.427075000001, 5065.5283, 5103.629525, 5141.730749999999, 5179.831974999999, 5217.933200000001, 5256.034425, 5294.13565, 5332.236874999999, 5370.338100000001, 5408.439325000001, 5446.54055, 5484.641775, 5522.743, 5560.844225000001, 5598.945450000001, 5637.046675, 5675.1479, 5713.249125, 5751.350350000001, 5789.451575000001, 5827.5527999999995, 5865.654025, 5903.75525, 5941.8564750000005, 5979.957700000001, 6018.058924999999, 6056.16015, 6094.261375, 6132.3626, 6170.463825000001, 6208.565049999999, 6246.666275, 6284.7675, 6322.868725, 6360.969950000001, 6399.071174999999, 6437.1723999999995, 6475.273625, 6513.37485, 6551.4760750000005, 6589.577299999999, 6627.678525000001, 6665.77975, 6703.880975, 6741.9822, 6780.083424999999, 6818.184650000001, 6856.285875, 6894.3871, 6932.488325, 6970.589550000001, 7008.690775000001, 7046.7919999999995], "Pix absorvido": [-5145.6, -5117.69325, -5089.7865, -5061.87975, -5033.973, -5006.066250000001, -4978.159500000001, -4950.252750000001, -4922.3460000000005, -4894.43925, -4866.5325, -4838.62575, -4810.719, -4782.81225, -4754.905500000001, -4726.998750000001, -4699.092000000001, -4671.18525, -4643.2785, -4615.37175, -4587.465, -4559.55825, -4531.6515, -4503.74475, -4475.838000000001, -4447.931250000001, -4420.0245, -4392.11775, -4364.211, -4336.30425, -4308.3975, -4280.490750000001, -4252.584000000001, -4224.677250000001, -4196.7705000000005, -4168.86375, -4140.957, -4113.05025, -4085.1435, -4057.23675, -4029.3300000000004, -4001.4232500000003, -3973.5165000000006, -3945.6097500000005, -3917.7030000000004, -3889.7962500000003, -3861.8895, -3833.98275, -3806.076, -3778.1692500000004, -3750.2625000000003, -3722.35575, -3694.4490000000005, -3666.5422500000004, -3638.6355000000003, -3610.72875, -3582.822, -3554.91525, -3527.0085, -3499.1017500000003, -3471.1950000000006, -3443.2882500000005, -3415.3815000000004, -3387.4747500000003, -3359.568, -3331.66125, -3303.7545, -3275.8477500000004, -3247.9410000000003, -3220.0342500000006, -3192.1275000000005, -3164.2207500000004, -3136.3140000000003, -3108.40725, -3080.5005, -3052.5937500000005, -3024.6870000000004, -2996.7802500000003, -2968.8735, -2940.9667500000005, -2913.0600000000004, -2885.1532500000003, -2857.2465, -2829.33975, -2801.4330000000004, -2773.5262500000003, -2745.6195000000007, -2717.71275, -2689.806, -2661.8992500000004, -2633.9925000000003, -2606.0857500000006, -2578.179, -2550.27225, -2522.3655000000003, -2494.4587500000002, -2466.552, -2438.64525, -2410.7385000000004, -2382.8317500000003, -2354.925, -2327.01825, -2299.1115, -2271.2047500000003, -2243.2980000000002, -2215.3912500000006, -2187.4845, -2159.57775, -2131.6710000000003, -2103.76425, -2075.8575000000005, -2047.95075, -2020.0440000000003, -1992.1372500000002, -1964.2305000000001, -1936.3237500000005, -1908.417, -1880.5102500000003, -1852.6035000000002, -1824.6967500000005, -1796.7900000000004, -1768.8832499999999, -1740.9765000000002, -1713.06975, -1685.1630000000005, -1657.2562500000004, -1629.3494999999998, -1601.4427500000002, -1573.536, -1545.6292500000004, -1517.7225000000003, -1489.8157500000002, -1461.909, -1434.00225, -1406.0955000000004, -1378.1887500000003, -1350.2820000000002, -1322.37525, -1294.4685000000004, -1266.5617500000003, -1238.6550000000007, -1210.74825, -1182.8415, -1154.9347500000003, -1127.0280000000002, -1099.1212500000006, -1071.2145, -1043.30775, -1015.4009999999998, -987.4942500000006, -959.5875000000005, -931.6807500000004, -903.7740000000003, -875.8672500000002, -847.9605000000001, -820.05375, -792.1469999999999, -764.2402499999998, -736.3335000000006, -708.4267500000005, -680.5200000000004, -652.6132500000003, -624.7065000000002, -596.7997500000001, -568.893, -540.9862500000008, -513.0794999999998, -485.17275000000063, -457.26600000000053, -429.3592499999995, -401.4525000000003, -373.5457500000002, -345.63900000000103, -317.73225, -289.8254999999999, -261.9187500000007, -234.01199999999972, -206.10525000000052, -178.19850000000042, -150.2917499999994, -122.38500000000022, -94.47825000000012, -66.57150000000092, -38.66474999999991, -10.75799999999981, 17.14874999999938, 45.05550000000039, 72.96224999999959, 100.86899999999969, 128.7757499999998, 156.6824999999999, 184.58925, 212.4960000000001, 240.4027500000002, 268.3095000000003, 296.2162499999995, 324.1229999999996, 352.0297500000006, 379.9364999999998, 407.8432499999999, 435.75, 463.6567500000001, 491.5635000000002, 519.4702499999994, 547.3770000000004, 575.2837499999996, 603.1904999999997, 631.0972500000007, 659.0039999999999, 686.91075, 714.8174999999992, 742.7242500000002, 770.6310000000003, 798.5377499999995, 826.4445000000005, 854.3512499999997, 882.2579999999998, 910.1647499999999, 938.0715, 965.9782500000001, 993.8849999999993, 1021.7917500000003, 1049.6985000000004, 1077.6052499999996, 1105.5119999999997, 1133.4187499999998, 1161.3255, 1189.23225, 1217.1390000000001, 1245.0457500000002, 1272.9524999999994, 1300.8592499999995, 1328.7660000000005, 1356.6727499999997, 1384.5794999999998, 1412.48625, 1440.393, 1468.2997500000001, 1496.2064999999993, 1524.1132500000003, 1552.0199999999995, 1579.9267499999996, 1607.8335000000006, 1635.7402499999998, 1663.647, 1691.5537499999991, 1719.4605000000001, 1747.3672500000002, 1775.2739999999994, 1803.1807500000004, 1831.0874999999996, 1858.9942499999997, 1886.9010000000007, 1914.80775, 1942.7145, 1970.6212499999992, 1998.5280000000002, 2026.4347500000003, 2054.3414999999995, 2082.2482500000006, 2110.1549999999997, 2138.06175, 2165.9685, 2193.87525, 2221.782, 2249.6887499999993, 2277.5955000000004, 2305.5022500000005, 2333.4089999999997, 2361.3157499999998, 2389.2225, 2417.12925, 2445.036, 2472.94275, 2500.8495000000003, 2528.7562499999995, 2556.6629999999996, 2584.5697500000006, 2612.4764999999998, 2640.38325, 2668.289999999999, 2696.19675, 2724.1035, 2752.0102499999994, 2779.9170000000004, 2807.8237499999996, 2835.7304999999997, 2863.6372500000007, 2891.544, 2919.45075, 2947.357499999999, 2975.26425, 3003.1710000000003, 3031.0777499999995, 3058.9845000000005, 3086.8912499999988, 3114.7980000000007, 3142.704750000001, 3170.611499999999, 3198.518250000001, 3226.4249999999993, 3254.3317499999994, 3282.2384999999995, 3310.1452499999996, 3338.0519999999997, 3365.95875, 3393.8655, 3421.77225, 3449.679, 3477.58575, 3505.4925000000003, 3533.3992500000004, 3561.3060000000005, 3589.2127500000006, 3617.1195000000007, 3645.026249999999, 3672.932999999999, 3700.839750000001, 3728.7464999999993, 3756.6532499999994, 3784.5599999999995]};
const paybacks = {"Base (Pix repassado)": 3.8827098078867546, "Pessimista (-15%)": 4.567893891631476, "Otimista (+15%)": 3.3762693981623952, "Pix absorvido": 4.609637453304308};

// ===== Estado =====
let current = "Base (Pix repassado)";
const canvas = document.getElementById('chart');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;

// Margens do gráfico
const m = { left: 70, right: 20, top: 30, bottom: 50 };

// Layout util
const innerW = W - m.left - m.right;
const innerH = H - m.top - m.bottom;

// Cria botões
const toolbar = document.getElementById('toolbar');
Object.keys(series).forEach((nome, idx) => {
  const b = document.createElement('button');
  b.textContent = nome;
  if (idx === 0) b.classList.add('active');
  b.onclick = () => {
    document.querySelectorAll('.toolbar button').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    current = nome;
    draw();
    updateTitle();
  };
  toolbar.appendChild(b);
});

// Formata BRL simples
function brl(x) {
  const s = (x).toLocaleString('pt-BR', {minimumFractionDigits:2, maximumFractionDigits:2});
  return "R$ " + s;
}

// Atualiza título
function updateTitle() {
  const t = document.getElementById('title');
  const rMensal = (series[current][series[current].length-1] - series[current][0]) / (meses[meses.length-1] - meses[0]); // aproximação
  t.textContent = `Payback — ${current} | Investimento: ${brl(investimento)} | Resultado mensal: ${brl(rMensal)} | Payback ≈ ${paybacks[current].toFixed(2)} meses`;
}

// Escalas
function scaleX(x) { return m.left + (x - meses[0]) * innerW / (meses[meses.length-1] - meses[0]); }

function computeYRange(arr) {
  let min = Infinity, max = -Infinity;
  for (const v of arr) { if (v < min) min = v; if (v > max) max = v; }
  // inclui zero na faixa para ver a linha do payback
  min = Math.min(min, 0);
  max = Math.max(max, 0);
  // margem extra
  const pad = (max - min) * 0.1;
  return [min - pad, max + pad];
}

function scaleY(y, yMin, yMax) { return H - m.bottom - (y - yMin) * innerH / (yMax - yMin); }

// Eixos
function drawAxes(yMin, yMax) {
  ctx.lineWidth = 1;
  ctx.strokeStyle = '#999';
  ctx.fillStyle = '#444';
  ctx.font = '12px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif';

  // eixo X
  ctx.beginPath();
  ctx.moveTo(m.left, H - m.bottom);
  ctx.lineTo(W - m.right, H - m.bottom);
  ctx.stroke();

  // ticks X (meses inteiros)
  for (let x=0; x<=8; x++) {
    const px = scaleX(x);
    ctx.beginPath();
    ctx.moveTo(px, H - m.bottom);
    ctx.lineTo(px, H - m.bottom + 6);
    ctx.stroke();
    ctx.fillText(String(x), px - 3, H - m.bottom + 20);
  }

  // eixo Y
  ctx.beginPath();
  ctx.moveTo(m.left, m.top);
  ctx.lineTo(m.left, H - m.bottom);
  ctx.stroke();

  // ticks Y (5 divisões)
  for (let i=0; i<=5; i++) {
    const yv = yMin + i*(yMax - yMin)/5;
    const py = scaleY(yv, yMin, yMax);
    ctx.beginPath();
    ctx.moveTo(m.left-6, py);
    ctx.lineTo(W - m.right, py);
    ctx.strokeStyle = i===Math.round((0 - yMin)/(yMax - yMin)*5)? '#bbb':'#eee';
    ctx.stroke();
    ctx.strokeStyle = '#999';
    ctx.fillText(brl(yv), 8, py + 4);
  }
}

// Curva + linha de payback + pontos de referência
function drawCurve(yMin, yMax) {
  const arr = series[current];
  ctx.lineWidth = 2;
  ctx.strokeStyle = '#1f77b4'; // default azul
  ctx.beginPath();
  for (let i=0; i<meses.length; i++) {
    const px = scaleX(meses[i]);
    const py = scaleY(arr[i], yMin, yMax);
    if (i===0) ctx.moveTo(px, py); else ctx.lineTo(px, py);
  }
  ctx.stroke();

  // pontos inteiros (marcadores "x")
  ctx.fillStyle = '#1f77b4';
  ctx.strokeStyle = '#1f77b4';
  for (let x=0; x<=8; x++) {
    const i = Math.round(x * (meses.length-1) / 8);
    const px = scaleX(meses[i]);
    const py = scaleY(arr[i], yMin, yMax);
    ctx.beginPath();
    ctx.moveTo(px-5, py-5); ctx.lineTo(px+5, py+5);
    ctx.moveTo(px-5, py+5); ctx.lineTo(px+5, py-5);
    ctx.stroke();
  }

  // linha horizontal y=0
  const y0 = scaleY(0, yMin, yMax);
  ctx.strokeStyle = '#999';
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.moveTo(m.left, y0); ctx.lineTo(W - m.right, y0); ctx.stroke();

  // linha vertical de payback
  const pb = paybacks[current];
  const xpb = scaleX(pb);
  ctx.setLineDash([6,6]);
  ctx.strokeStyle = '#999';
  ctx.beginPath();
  ctx.moveTo(xpb, m.top);
  ctx.lineTo(xpb, H - m.bottom);
  ctx.stroke();
  ctx.setLineDash([]);

  // anotação
  ctx.fillStyle = '#111';
  ctx.font = '12px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif';
  ctx.fillText(`Payback ≈ ${pb.toFixed(2)} meses`, xpb + 8, y0 - 8);
}

// Tooltip
const tip = document.getElementById('tooltip');
canvas.addEventListener('mousemove', ev => {
  const rect = canvas.getBoundingClientRect();
  const mx = ev.clientX - rect.left;
  const my = ev.clientY - rect.top;
  if (mx < m.left || mx > W - m.right || my < m.top || my > H - m.bottom) {
    tip.style.display = 'none';
    return;
  }
  // inversa de scaleX
  const x = (mx - m.left) * (meses[meses.length-1] - meses[0]) / (innerW) + meses[0];
  // índice mais próximo
  let idx = Math.round((x - meses[0]) * (meses.length-1) / (meses[meses.length-1] - meses[0]));
  idx = Math.max(0, Math.min(meses.length-1, idx));
  const yv = series[current][idx];

  tip.style.display = 'block';
  tip.style.left = mx + 'px';
  tip.style.top = (my - 10) + 'px';
  tip.textContent = `Mês ${meses[idx].toFixed(2)} • Caixa: ${brl(yv)}`;
});

canvas.addEventListener('mouseleave', () => tip.style.display = 'none');

function draw() {
  ctx.clearRect(0, 0, W, H);
  const arr = series[current];
  const [yMin, yMax] = computeYRange(arr);
  drawAxes(yMin, yMax);
  drawCurve(yMin, yMax);
}

draw();
updateTitle();
</script>
</body>
</html>
